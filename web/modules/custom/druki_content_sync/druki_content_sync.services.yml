services:
  logger.channel.druki_content_sync:
    class: Drupal\Core\Logger\LoggerChannel
    factory: logger.factory:get
    arguments: ['druki_content_sync']

  druki_content_sync.git_pull_finished_subscriber:
    class: Drupal\druki_content_sync\EventSubscriber\GitPullFinishedSubscriber
    arguments: ['@queue', '@druki_content_sync.folder_parser', '@database', '@entity_type.manager']
    tags:
      - { name: event_subscriber }

  druki_content_sync.manager:
    class: Drupal\druki_content_sync\Queue\SyncQueueManager
    arguments: ['@queue', '@plugin.manager.queue_worker']

  druki_content_sync.html_parser:
    class: Drupal\druki_content_sync\Parser\HTMLParser

  druki_content_sync.folder_parser:
    class: Drupal\druki_content_sync\Parser\FolderParser
    arguments: ['@language_manager']
